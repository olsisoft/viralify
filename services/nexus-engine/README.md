# NEXUS ğŸ§ âš¡

**Neural Execution & Understanding Synthesis**

Algorithme innovant et unique de gÃ©nÃ©ration de code pÃ©dagogique contextuel avec dÃ©composition cognitive, orchestration multi-agents, et adaptation temporelle.

---

## ğŸ¯ Innovation

NEXUS est **volontairement difficile Ã  reproduire** car il combine plusieurs innovations uniques :

### 1. Cognitive Decomposition Algorithm (CDA)
```
"une plateforme e-commerce"
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 1: PERCEPTION                â”‚
â”‚  â€¢ Analyse heuristique propriÃ©taire â”‚
â”‚  â€¢ Extraction d'entitÃ©s (LLM)       â”‚
â”‚  â€¢ Matrice d'affinitÃ© de patterns   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 2: ANALYSIS                  â”‚
â”‚  â€¢ Identification des flux mÃ©tier   â”‚
â”‚  â€¢ Mapping des relations            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 3: SYNTHESIS                 â”‚
â”‚  â€¢ SÃ©lection de framework (matrice) â”‚
â”‚  â€¢ Choix des patterns               â”‚
â”‚  â€¢ DÃ©finition des layers            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 4: PLANNING                  â”‚
â”‚  â€¢ Blueprint cognitif               â”‚
â”‚  â€¢ SÃ©quenÃ§age pÃ©dagogique           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Architecture DNA
ReprÃ©sentation unique d'un projet encodant :
- **EntitÃ©s** avec vecteurs de complexitÃ©
- **Relations** et graphe de dÃ©pendances
- **Flux mÃ©tier** avec scÃ©narios d'erreur
- **Patterns** et dÃ©cisions architecturales

### 3. Multi-Agent Orchestration
5 agents spÃ©cialisÃ©s qui collaborent avec feedback loop :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MULTI-AGENT ORCHESTRATION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  ARCHITECT  â”‚â”€â”€â”€â”€â”€â”€â–¶ DÃ©cisions de structure                    â”‚
â”‚  â”‚   Agent     â”‚        Patterns, interfaces                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚         â”‚                                                           â”‚
â”‚         â–¼                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   CODER     â”‚â”€â”€â”€â”€â”€â”€â–¶ GÃ©nÃ©ration du code                        â”‚
â”‚  â”‚   Agent     â”‚        AdaptÃ© au public cible                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚         â”‚                                                           â”‚
â”‚         â–¼                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  REVIEWER   â”‚â—€â”€â”€â”€â”€â–¶â”‚         FEEDBACK LOOP                    â”‚ â”‚
â”‚  â”‚   Agent     â”‚      â”‚  Si score < seuil â†’ rÃ©gÃ©nÃ©ration        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚  Max 3 itÃ©rations par segment           â”‚ â”‚
â”‚         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â–¼                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  EXECUTOR   â”‚â”€â”€â”€â”€â”€â”€â–¶ ExÃ©cution sandbox                         â”‚
â”‚  â”‚   Agent     â”‚        Validation runtime                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚         â”‚                                                           â”‚
â”‚         â–¼                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  NARRATOR   â”‚â”€â”€â”€â”€â”€â”€â–¶ Script de narration                       â”‚
â”‚  â”‚   Agent     â”‚        Synchronisation vidÃ©o                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Temporal Code Synthesis
Adaptation dynamique au temps allouÃ© :
- **Compression** de verbositÃ© pour les segments non-critiques
- **Priorisation** des concepts essentiels
- **Versions progressives** (v1 naÃ¯ve â†’ v2 amÃ©liorÃ©e â†’ v3 production)

---

## ğŸš€ Installation

```bash
pip install -r requirements.txt
```

---

## ğŸ“– Utilisation

### Simple (une ligne)

```python
from nexus import generate_code

result = generate_code(
    project_description="une plateforme e-commerce",
    skill_level="intermediate",
    language="python",
    audience="developer",
    allocated_time=300,  # 5 minutes
    provider="groq",
    api_key="your-api-key"
)

# AccÃ©der aux segments gÃ©nÃ©rÃ©s
for segment in result.get_segments_ordered():
    print(f"ğŸ“„ {segment.filename}")
    print(f"   {segment.explanation}")
    print(segment.code)
```

### AvancÃ©

```python
from nexus import (
    NEXUSPipeline, 
    NexusRequest,
    NexusConfig,
    TargetAudience,
    CodeVerbosity,
    create_nexus_pipeline
)

# Configuration personnalisÃ©e
config = NexusConfig(
    enable_executor=True,      # ExÃ©cuter le code pour validation
    sandbox_enabled=True,      # Isolation sandbox
    max_feedback_iterations=3, # Boucles de feedback max
    verbose=True,
)

# CrÃ©er le pipeline
pipeline = create_nexus_pipeline(
    provider="groq",
    api_key="your-api-key",
    config=config
)

# Callback de progression
def on_progress(p):
    print(f"[{p.stage}] {p.percent:.0f}% - {p.message}")

pipeline.set_progress_callback(on_progress)

# RequÃªte dÃ©taillÃ©e
request = NexusRequest(
    project_description="une plateforme e-commerce avec panier et paiement",
    lesson_context="Module 5: Architecture backend avancÃ©e",
    skill_level="advanced",
    language="python",
    target_audience=TargetAudience.DEVELOPER,
    verbosity=CodeVerbosity.PRODUCTION,
    allocated_time_seconds=600,  # 10 minutes
    show_mistakes=True,          # Montrer les erreurs courantes
    show_evolution=True,         # Montrer v1â†’v2â†’v3
    include_tests=False,
)

# GÃ©nÃ©rer
response = pipeline.generate(request)

# RÃ©sultats
print(f"âœ… {len(response.code_segments)} segments gÃ©nÃ©rÃ©s")
print(f"ğŸ“ {response.total_lines_of_code} lignes de code")
print(f"â±ï¸ {response.total_duration_seconds}s de contenu")
```

---

## ğŸ“¦ Structure de sortie (JSON)

```json
{
  "request_id": "abc123",
  "architecture_dna": {
    "project_name": "E-commerce Platform",
    "entities": [...],
    "relations": [...],
    "flows": [...],
    "patterns": ["repository", "service_layer"],
    "framework": "fastapi"
  },
  "cognitive_blueprint": {
    "analysis_phase": [...],
    "design_phase": [...],
    "implementation_phase": [...],
    "validation_phase": [...]
  },
  "code_segments": [
    {
      "id": "seg_001",
      "filename": "models/product.py",
      "code": "class Product:\n    ...",
      "explanation": "Le modÃ¨le Product reprÃ©sente...",
      "narration_script": "CommenÃ§ons par crÃ©er notre modÃ¨le Product...",
      "duration_seconds": 30,
      "key_concepts": ["model", "dataclass"],
      "common_mistakes": ["Oublier la validation"]
    }
  ],
  "sync_metadata": {
    "timeline": [...],
    "total_duration_seconds": 300
  }
}
```

---

## ğŸ¬ IntÃ©gration avec pipeline vidÃ©o

```python
from nexus import generate_code

# GÃ©nÃ©rer le code
result = generate_code(
    project_description="une API REST",
    allocated_time=300,
    provider="groq",
    api_key="..."
)

# Pour l'assembleur vidÃ©o
for entry in result.sync_metadata["timeline"]:
    segment_id = entry["segment_id"]
    start_time = entry["start_time_seconds"]
    duration = entry["duration_seconds"]
    narration = entry["narration_script"]
    
    # Trouver le segment correspondant
    segment = next(s for s in result.code_segments if s.id == segment_id)
    
    # Actions pour l'assembleur:
    # 1. Afficher segment.code dans l'IDE simulÃ© Ã  start_time
    # 2. Jouer narration via TTS
    # 3. Highlight segment.key_concepts
    # 4. DurÃ©e: duration secondes
```

---

## ğŸ”§ Configuration des audiences

| Audience | Style de code |
|----------|---------------|
| `developer` | Production-ready, error handling, pragmatique |
| `architect` | Focus patterns, structure schÃ©matique |
| `student` | PÃ©dagogique, trÃ¨s commentÃ©, progressif |
| `lead` | Balance entre pratique et architecture |

---

## ğŸšï¸ Niveaux de verbositÃ©

| Niveau | Description |
|--------|-------------|
| `MINIMAL` | Squelette, code essentiel uniquement |
| `STANDARD` | Code propre avec commentaires clÃ©s |
| `VERBOSE` | TrÃ¨s commentÃ©, chaque ligne expliquÃ©e |
| `PRODUCTION` | Production-ready avec logs et error handling |

---

## ğŸ” Pourquoi NEXUS est unique

1. **Matrices propriÃ©taires** : AffinitÃ© patterns/domaines, sÃ©lection de framework
2. **DÃ©composition cognitive** : 4 phases qui simulent un architecte senior
3. **Multi-agents** : 5 agents spÃ©cialisÃ©s avec feedback loop
4. **Architecture DNA** : ReprÃ©sentation unique encodant l'essence du projet
5. **Adaptation temporelle** : Compression/expansion selon le temps allouÃ©

MÃªme avec accÃ¨s au code source, la reproduction nÃ©cessite de comprendre et recrÃ©er :
- Les matrices de dÃ©cision
- La logique de dÃ©composition cognitive
- Le protocole inter-agents
- L'algorithme d'adaptation temporelle

---

## ğŸ“ Structure du projet

```
nexus/
â”œâ”€â”€ __init__.py                 # Exports publics
â”œâ”€â”€ core/
â”‚   â””â”€â”€ pipeline.py             # Pipeline principal
â”œâ”€â”€ engines/
â”‚   â”œâ”€â”€ cognitive_decomposition.py  # CDA - Algorithme de dÃ©composition
â”‚   â”œâ”€â”€ multi_agent_orchestrator.py # Orchestration des 5 agents
â”‚   â””â”€â”€ temporal_synthesizer.py     # Adaptation temporelle
â”œâ”€â”€ models/
â”‚   â””â”€â”€ data_models.py          # Structures de donnÃ©es
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ llm_provider.py         # Interface LLM agnostique
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ usage_examples.py       # Exemples
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸ“„ Licence

PropriÃ©taire - Tous droits rÃ©servÃ©s

---

## ğŸ¤ IntÃ©gration avec MAESTRO

NEXUS est conÃ§u pour s'intÃ©grer dans la chaÃ®ne MAESTRO :

```
MAESTRO (gÃ©nÃ©ration cours) 
    â†’ NEXUS (gÃ©nÃ©ration code)
    â†’ VQV-HALLU (validation audio)
    â†’ Assembleur vidÃ©o
```
